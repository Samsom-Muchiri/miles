<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miles</title>
    <link rel="stylesheet" href="about css.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body>
     <!--menu section-->
     <div class="menu">
        
        <i class="fa fa-times" aria-hidden="true" onclick="closemenu()"></i>
        <div class="menu-container">
        <div class="nav">
            <p><a href="index.html">Home</a></p>
            <p><a href="Cases.html">Cases</a></p>  
            <p><a href="contacts.html">Contact</a></p>
            <p><a href="services.html">Services</a></p>
            <p><strike>Shop</strike></p>
        </div>
        <div class="test">
            <p>
                <h3>Let’s find solutions<br>
                together?</h3> <br>
                Use my contacts beloyou need to put a project on the move, let’s work on it!<br>
                joaovdesign(a)gmail.com<br>
                <button>contact</button>
            </p>
        </div>
       </div>
    </div>
    <nav class="navbar">
        <div class="load">
            <p>Miles</p>
        </div>
        <div class="load l2">
            <p>Miles</p>
        </div>
        <div class="log"><p>Miles</p></div>
        <ul class="lnav">
            <li><a href="index.html" class="delay">home<br><hr></a></li>
            <li><a href="" class="delay">Category<br><hr></a>
                <ul class="sub-menu">
                   <li>Shirts</li>
                   <li>Hoody</li> 
                   <li>Tshirts</li> 
                   <li>Bags</li> 
                </ul>
            </li>
            <li><a href="Cases.html" class="delay">Cases<br><hr></a></li>
            <li><a href="" class="delay">Contact<br><hr></a></li>
            <li><a href="" class="delay"><div class="fa-shopping-cart-icon"  data-count="0"><i class="fa fa-shopping-cart" aria-hidden="true" style="font-size: small;" onclick="opencart()"></i></div></a><br><hr></li>
        </ul>
        <div class="menubars"><div class="fa-shopping-cart-icon cart-icon2"  data-count="0"><i class="fa fa-shopping-cart" aria-hidden="true" style="font-size: small;" onclick="opencart()"></i></div><i class="fa fa-bars" aria-hidden="true" onclick="openmenu()"></i></div>
    </nav>
    <!--cart slider section-->
    <div class="cart-slider">
        <p>Cart<i class="fa fa-shopping-cart" aria-hidden="true" style="font-size: small;"></i><i class="fa fa-times" aria-hidden="true" onclick="closecart()" style="font-size:medium"></i><br><hr></p>
        <div class="cart-slider-container">        
       
       </div>
        
         <hr>
        <p>Total</p><p class="total" ></p>
        <a href="#pay"><button class="check-out" onclick="closecart()">Check out</button></a>
        
        </div>
 <!--top section-->
 <div class="top"><br><br><br>
    <p>Become a <br>member of the<br> Miles community</p>
<!--second section-->
<div class="intro">
    <div class="fst-img"></div>
    <div class="sell-cnt">
        <div class="simg"></div>
        <div class="simg"></div>
        <div class="simg"></div>
        <div class="simg"></div>
    </div>
</div>
</div>
<div class="item-container">
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$70</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (1).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$60</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (2).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$50</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (3).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$40</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (4).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$70</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (5).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$80</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (6).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$70</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (7).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$100</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (8).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$710</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (9).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$40</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (10).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$740</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (11).jpg" alt="" style="width:100%; height:100%"class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$10</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/item-pic (12).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
<p style="font-size:50px">hoodys</p>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$70</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/hoody (1).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$30</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/hoody (2).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$60</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/hoody (3).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$70</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/hoody (4).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$20</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/hoody (5).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$740</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/hoody (6).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$74</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/hoody (7).jpg" alt="" style="width:100%; height:100%" class="item-image"></div>
    <div class="items-2"><div class="title i-title">T-shirt</div><p class="price1">$74</p> <button onclick="opencart()" class="cart-btn">ADD TO CART</button><img src="images/hoody (8).jpg" alt="" style="width:100%; height:100%" class="item-image"></div></div>
<div class="test" style="margin-left: 100px;font-size: 50px;letter-spacing: 10px;margin-top:-140px"><br><br><br>
    <p>Show the <br>World how<br>do it</p>
</div>


    

<!--pay section-->
<div class="pay-container" id="pay">
    <div class="close-popup"><i class="fa fa-times " aria-hidden="true" style="font-size:medium"></i></div>
    <form action="">
        <input type="text" placeholder="First Name"><input type="text" placeholder="Second Name"><br>
        <input type="number" placeholder="Mobile Number" required><br>
        <textarea name="" id="" cols="30" rows="3" placeholder="Delivey Address"></textarea><br>
        City
        <select name="" id="">
            <option value="">Nairobi</option>
            <option value="">Mombasa</option>
            <option value="">Kisumu</option>
            <option value="">Nakuru</option>
            <option value="">Eldoret</option>
            <option value="">Nyeri</option>
        </select>
        <h3>Payment Details</h3>
        <hr>
        <input type="text" placeholder="Credit Card Number" required><br>
        <input type="text" placeholder="Expiring MM/YY" required><input type="text" placeholder="CVV Code" required><br>
        <input type="text" placeholder="Postal Code" required>
        <input type="submit" class="check-out-btn" id="check-out-btn">
    </form>
</div>
 <script src="main.js"></script>
 <script>
 

//cart section
    if (document.readyState == 'loading') {
    document.addEventListener('DOMContentLoaded', ready)
} else{
    ready()
}

//cart count section
   
const clickBtn = document.querySelectorAll('.cart-btn');
const cartIcon = document.querySelectorAll('.fa-shopping-cart-icon');
 
clickBtn.forEach( button =>{
    button.addEventListener('click', cartCount) 
  
})

function cartCount(){
   cartIcon.forEach(div =>{
    var count = parseInt(div.getAttribute('data-count')) + 1;
  div.setAttribute('data-count', count);
   });
}
function cartCount2(){
   cartIcon.forEach(div =>{
    var count = parseInt(div.getAttribute('data-count')) - 1;
  div.setAttribute('data-count', count);
   });
}
function ready() {
    var removebtn = document.getElementsByClassName('rbtn');
for (var i = 0; i < removebtn.length; i++){
    var button = removebtn[i]
    button.addEventListener('click', removeCartItem);
  };
  var quantityInput = document.getElementsByClassName('quantity-input');
    for (var i = 0; i < quantityInput.length; i++) {
        var quantity = quantityInput[i];
        quantity.addEventListener('change', quantityChanged);
    };
    var addTocartButton = document.querySelectorAll('.cart-btn');
        addTocartButton.forEach(button =>{
        button.addEventListener('click', addtocartCliked2);
    })
}
//functions


//cart update sectoin
function updatecartTotal() {
    var cartContainer = document.getElementsByClassName('cart-slider')[0];
    var cartItems = cartContainer.getElementsByClassName('cart-items');
    var total = 0;
    for (var i = 0; i < cartItems.length; i++) {
        var cartItem = cartItems[i];
        
        var price = cartItem.getElementsByClassName('amount')[0];
        var quantityElement = cartItem.getElementsByClassName('quantity-input')[0];
        var priceValue = parseFloat(price.innerHTML.replace('$', ''));
        var quantity = quantityElement.value;
        total = total + (quantity * priceValue); 
        console.log(total) 
    }
    document.getElementsByClassName('total')[0].innerHTML = '$' + total
};
//remove cartitem button
function removeCartItem() {
      var buttonclicked = event.target;
        buttonclicked.parentElement.parentElement.remove();
        cartCount2();
        updatecartTotal();
    };
//quantity changed section
function quantityChanged(event) {
    var quantity = event.target;
   if (isNaN(quantity.value) || quantity.value <= 0) {
        quantity.value = 1;
   } else {
    updatecartTotal();
   }
};

function addtocartCliked2(event){
    var button = event.target.parentElement;
    var itemImage = button.querySelector('.item-image').src;
    var itemPrice = button.querySelector('.price1').innerText;
    var title =button.querySelector('.title').innerText;
   
     addItemToCart2(button, itemImage, itemPrice, title)
     updatecartTotal()
}

function addItemToCart2(button, itemImage, itemPrice, title){
    var cartRow = document.createElement('div');
    cartRow.innerHTML = `
    <div class="cart-items">
            <div class="c-item">
            <u><p class="title">${title}</p></u><br>
            <div class="cart-item-img"><img src="${itemImage}" class="item-image"></div>
            </div>
             <div class="price">
                <u><p>Price</p></u>
                <p class="amount">${itemPrice}</p>
             </div>
             <div class="quantity">
                <u><p>Quantity</p></u>
                <input type="number" class="quantity-input" value="1" ><button class="rbtn">Remove</button>
             </div>
    </div>`
    var cartContainer = document.querySelector('.cart-slider-container');
    cartContainer.append(cartRow);
    cartRow.querySelector('.rbtn').addEventListener('click', removeCartItem);
    cartRow.querySelector('.quantity-input').addEventListener('change', quantityChanged)
  
}
//payment popUp section
document.querySelector('.close-popup').addEventListener('click', _ =>{
  document.querySelector('.pay-container').style.display = 'none';
  document.body.style.backgroundColor = '';
});
document.querySelector('.check-out').addEventListener("click", _ =>{
    document.querySelector('.pay-container').style.display = 'block';
    document.body.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
})
 </script>
</body>
</html>